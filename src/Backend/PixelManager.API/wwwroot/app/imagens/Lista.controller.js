sap.ui.define(["pixelmanager/app/BaseController","sap/ui/model/json/JSONModel","pixelmanager/app/repositorios/RepositorioDeImagens","sap/m/MessageToast"],function(e,o,t,i){"use strict";return e.extend("pixelmanager.app.imagens.Lista",{onInit:function(){this._inicializarModelos();this._obterImagens()},_inicializarModelos:function(){this.getView().setModel(new o([]),"images");this.getView().setModel(new o({nomeDoArquivo:""}),"filtro")},_obterImagens:function(){return t.obterTodos().then(e=>{e.forEach(e=>{e.tipoDescricao=this._obterDescricaoDoTipo(e.tipoDoArquivo);e.proporcaoDescricao=this._calcularProporcao(e.comprimento,e.altura)});this.getView().getModel("images").setData({items:e})}).catch(()=>{i.show("Falha ao carregar imagens.")})},_obterDescricaoDoTipo:function(e){const o={1:"PNG",2:"JPG",3:"GIF"};return o[e]||"Desconhecido"},_calcularProporcao:function(e,o){if(!e||!o)return"-";return`${e} x ${o}`},aoFiltrar:function(){this.exibirEspera(()=>{const e=this.getView().getModel("images");e.setData({items:[]});const o=this.getView().getModel("filtro").getProperty("/nomeDoArquivo")?.trim().toLowerCase();return t.obterTodos().then(t=>{const i=o?t.filter(e=>e.nomeDoArquivo.toLowerCase().includes(o)):t;e.setData({items:i})})})},onAddImagePress:function(){},aoEditarImagem:function(e){},aoExcluirImagem:function(e){}})});
//# sourceMappingURL=Lista.controller.js.map